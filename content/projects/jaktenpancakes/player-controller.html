<h4>PlayerController</h4>
<p>
  Let's explore the core components of the player controller, Movement. state
  machine management and combat mechanics. Here's a look at how these elements
  came together to shape the player's journey.
</p>

<h4>Movement Mechanics</h4>
<p>
  In our project, we utilized an InputMapper to translate player inputs into
  actionable movements within the game environment. The
  <strong>ReceiveEvent</strong> function is pivotal in this process, managing
  various input events to drive player motion.
</p>
<p>
  Within <strong>ReceiveEvent</strong>, we update the
  <strong>myInputDirection</strong> vector based on player input. For instance,
  pressing keys for moving up, down, left, or right adjusts the
  <strong>myInputDirection</strong> accordingly to reflect the desired movement
  direction.
</p>
<div class="code-screenshot">
  <h4>Code Implementation</h4>
  <div class="code-screenshot-gallery">
    <div class="item">
      <img
        src="assets/jaktenpannkakor/gamedebug.gif"
        alt="Game debug"
        class="clickable-image"
        onclick="openLightbox([
          {src:'assets/jaktenpannkakor/gamedebug.gif', caption:'Game Debug'},
          {src:'assets/jaktenpannkakor/Input.png', caption:'Input Mapping'}
        ], 0)"
      />
      <div class="caption">Input in action</div>
    </div>
    <div class="item">
      <img
        src="assets/jaktenpannkakor/Input.png"
        alt="Input mapping"
        class="clickable-image"
        onclick="openLightbox([
          {src:'assets/jaktenpannkakor/gamedebug.gif', caption:'Game Debug'},
          {src:'assets/jaktenpannkakor/Input.png', caption:'Input Mapping'}
        ], 1)"
      />
      <div class="caption">Player input</div>
    </div>
  </div>
  <p
    style="
      text-align: center;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #aaa;
    "
  >
    Click any image to view the full gallery
  </p>
</div>

<h4>Combat Mechanics</h4>
<p>
  Entering Combat State: When the player enters combat, we trigger the
  <strong>onEnter</strong>
  function. Here, we initialize various parameters such as setting the attack
  timer, configuring animations, and activating the hitbox collider to enable
  attacks. Additionally, visual effects (VFX) and audio cues are triggered to
  enhance the combat experience.
</p>

<div class="code-screenshot">
  <h4>Code Implementation</h4>
  <img
    src="assets/jaktenpannkakor/OnEnter.png"
    alt="Player Controller Code"
    class="clickable-image"
    onclick="openLightbox([{src: 'assets/jaktenpannkakor/OnEnter.png', caption: 'OnEnter Showcase'}], 0)"
  />
  <p
    style="
      text-align: center;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #aaa;
    "
  >
    Click on the image to view in full size
  </p>
</div>

<h4>StateMachine</h4>
<p>
  In the player's movement state, the State Machine governs the flow between
  different player actions:
</p>
<ul>
  <li>
    <strong>Dialogue State Transition:</strong> If the player is conversing and
    not rolling, the State Machine shifts to the dialogue state
    (PlayerDialogueState). This keeps dialogues uninterrupted.
  </li>
  <br />
  <li>
    <strong>Take Damage State Transition:</strong> When the player takes damage,
    the State Machine switches to the take damage state (PlayerTakeDamageState).
    This handles damage reactions seamlessly.
  </li>
  <br />

  <li>
    <strong>Combat State Transition:</strong> Initiating an attack prompts the
    State Machine to transition to the combat state (PlayerCombatState) once the
    attack timer elapses. This ensures fluid combat sequences.
  </li>
  <br />
  <li>
    <strong>Roll State Transition:</strong> Rolling triggers a transition to the
    roll state (PlayerRollState) once the roll timer ends. This facilitates
    agile evasion during gameplay.
  </li>
</ul>
<div class="code-screenshot">
  <h4>Code Implementation</h4>
  <img
    src="assets/jaktenpannkakor/Statemachine.png"
    alt="Player Controller Code"
    class="clickable-image"
    onclick="openLightbox([{src: 'assets/jaktenpannkakor/Statemachine.png', caption: 'State Machine Implementation'}], 0)"
  />
  <p
    style="
      text-align: center;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #aaa;
    "
  >
    Click on the image to view in full size
  </p>
</div>
<br />
<h4><strong>My Wish:</strong></h4>
<br />
<p>
  Considering time constraints, a pivotal enhancement would be pre-instantiating
  all possible states during initialization instead of creating new instances
  upon transition. This optimization minimizes memory overhead and enhances
  runtime efficiency by circumventing frequent object creation and destruction.
  Through this approach, resource management is improved, contributing to
  smoother gameplay without compromising development timelines.
</p>
